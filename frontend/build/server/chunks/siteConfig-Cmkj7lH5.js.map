{"version":3,"file":"siteConfig-Cmkj7lH5.js","sources":["../../../.svelte-kit/adapter-node/chunks/siteConfig.js"],"sourcesContent":["import { d as derived, w as writable } from \"./index.js\";\nconst initialState = {\n  config: null,\n  loading: true,\n  error: null\n};\nfunction createSiteConfigStore() {\n  const { subscribe, set, update } = writable(initialState);\n  return {\n    subscribe,\n    load: async () => {\n      update((state) => ({ ...state, loading: true, error: null }));\n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5e3);\n        const response = await fetch(\"/api/site-config\", {\n          signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        const data = await response.json();\n        const configData = data.success ? data.data : data;\n        update((state) => ({\n          ...state,\n          config: configData,\n          loading: false,\n          error: null\n        }));\n      } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : \"Failed to load site configuration\";\n        update((state) => ({\n          ...state,\n          loading: false,\n          error: errorMessage\n        }));\n        if (!errorMessage.includes(\"ECONNREFUSED\") && !errorMessage.includes(\"Failed to fetch\") && !errorMessage.includes(\"aborted\")) {\n          console.error(\"Error loading site config:\", err);\n        }\n      }\n    },\n    refetch: async () => {\n      await createSiteConfigStore().load();\n    },\n    reset: () => set(initialState)\n  };\n}\nconst siteConfig = createSiteConfigStore();\nconst siteConfigData = derived(siteConfig, ($store) => $store.config);\nderived(siteConfig, ($store) => $store.loading);\nderived(siteConfig, ($store) => $store.error);\nexport {\n  siteConfigData as s\n};\n"],"names":[],"mappings":";;AACA,MAAM,YAAY,GAAG;AACrB,EAAE,MAAM,EAAE,IAAI;AACd,EAAE,OAAO,EAAE,IAAI;AACf,EAAE,KAAK,EAAE;AACT,CAAC;AACD,SAAS,qBAAqB,GAAG;AACjC,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,QAAQ,CAAC,YAAY,CAAC;AAC3D,EAAE,OAAO;AACT,IAAI,SAAS;AACb,IAAI,IAAI,EAAE,YAAY;AACtB,MAAM,MAAM,CAAC,CAAC,KAAK,MAAM,EAAE,GAAG,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACnE,MAAM,IAAI;AACV,QAAQ,MAAM,UAAU,GAAG,IAAI,eAAe,EAAE;AAChD,QAAQ,MAAM,SAAS,GAAG,UAAU,CAAC,MAAM,UAAU,CAAC,KAAK,EAAE,EAAE,GAAG,CAAC;AACnE,QAAQ,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,kBAAkB,EAAE;AACzD,UAAU,MAAM,EAAE,UAAU,CAAC;AAC7B,SAAS,CAAC;AACV,QAAQ,YAAY,CAAC,SAAS,CAAC;AAC/B,QAAQ,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAC1B,UAAU,MAAM,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;AAC5E,QAAQ;AACR,QAAQ,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAC1C,QAAQ,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI;AAC1D,QAAQ,MAAM,CAAC,CAAC,KAAK,MAAM;AAC3B,UAAU,GAAG,KAAK;AAClB,UAAU,MAAM,EAAE,UAAU;AAC5B,UAAU,OAAO,EAAE,KAAK;AACxB,UAAU,KAAK,EAAE;AACjB,SAAS,CAAC,CAAC;AACX,MAAM,CAAC,CAAC,OAAO,GAAG,EAAE;AACpB,QAAQ,MAAM,YAAY,GAAG,GAAG,YAAY,KAAK,GAAG,GAAG,CAAC,OAAO,GAAG,mCAAmC;AACrG,QAAQ,MAAM,CAAC,CAAC,KAAK,MAAM;AAC3B,UAAU,GAAG,KAAK;AAClB,UAAU,OAAO,EAAE,KAAK;AACxB,UAAU,KAAK,EAAE;AACjB,SAAS,CAAC,CAAC;AACX,QAAQ,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AACtI,UAAU,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,GAAG,CAAC;AAC1D,QAAQ;AACR,MAAM;AACN,IAAI,CAAC;AACL,IAAI,OAAO,EAAE,YAAY;AACzB,MAAM,MAAM,qBAAqB,EAAE,CAAC,IAAI,EAAE;AAC1C,IAAI,CAAC;AACL,IAAI,KAAK,EAAE,MAAM,GAAG,CAAC,YAAY;AACjC,GAAG;AACH;AACA,MAAM,UAAU,GAAG,qBAAqB,EAAE;AACrC,MAAC,cAAc,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,KAAK,MAAM,CAAC,MAAM;AACpE,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,KAAK,MAAM,CAAC,OAAO,CAAC;AAC/C,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,KAAK,MAAM,CAAC,KAAK,CAAC;;;;"}