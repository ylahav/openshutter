import{c as Nt,l as Pt,a as d,f as m,t as me,b as ne}from"../chunks/mVdtGE8-.js";import{i as Bt}from"../chunks/DfpQQ0Vj.js";import{p as Ht,o as Ut,l as rt,g as zt,j as f,u as P,a as Mt,e as It,c as r,k as t,m as B,f as i,v as u,F as v,t as Z,q as n,w as E,$ as Wt,r as a,h as le,n as ot}from"../chunks/CK0-DIe0.js";import{a as p,e as b}from"../chunks/Bv0kf0zg.js";import{s as _}from"../chunks/Bwj96XKz.js";import{i as w}from"../chunks/BhPWbYAn.js";import{e as $e,i as Te}from"../chunks/jNwdByo0.js";import{v as qt}from"../chunks/DTEFG1b5.js";import{h as Jt}from"../chunks/CBTfresD.js";import{l as Ae,r as W,a as ee,b as st}from"../chunks/BSTdbr_g.js";import{s as de}from"../chunks/Bgqm-9EX.js";import{p as Rt}from"../chunks/ux2VXDBy.js";import{s as Yt,a as Kt}from"../chunks/BKTEqjJl.js";import"../chunks/DdYhDDtT.js";import{s as it,a as lt}from"../chunks/74aT5YJ6.js";l[v]="src/routes/admin/templates/overrides/+page.svelte";var Qt=p(m('<button type="button" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm font-medium">Cancel</button>'),l[v],[[305,6]]),Xt=p(m('<button type="button" class="px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50 text-sm font-medium"><!></button>'),l[v],[[314,6]]),Zt=p(m('<div class="mb-4 p-4 rounded-md bg-green-50 text-green-700"> </div>'),l[v],[[343,4]]),ea=p(m('<div class="mb-4 p-4 rounded-md bg-red-50 text-red-700"> </div>'),l[v],[[347,4]]),ta=p(m(`<div class="mb-4 p-4 rounded-md bg-blue-50 text-blue-700 text-sm">This template has custom overrides applied. Changes will be merged with the base template
					configuration.</div>`),l[v],[[351,4]]),aa=p(m('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <p class="mt-2 text-gray-600">Loading template overrides...</p></div>'),l[v],[[358,4,[[359,5],[360,5]]]]),ra=p(m('<div class="text-center py-8"><p class="text-gray-600">No active template found.</p></div>'),l[v],[[363,4,[[364,5]]]]),oa=p(m('<div><label class="block text-sm font-medium text-gray-700 mb-2"> </label> <div class="flex gap-2"><input type="color" class="w-16 h-10 border border-gray-300 rounded cursor-pointer"/> <input type="text" placeholder="#000000" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <p class="mt-1 text-xs text-gray-500"> </p></div>'),l[v],[[424,8,[[425,9],[428,9,[[429,10],[435,10]]],[443,9]]]]),sa=p(m('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Color Customization</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"></div></div>'),l[v],[[420,5,[[421,6],[422,6]]]]),ia=p(m('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Font Customization</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Heading Font</label> <input type="text" placeholder="Inter" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <p class="mt-1 text-xs text-gray-500"> </p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Body Font</label> <input type="text" placeholder="Inter" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <p class="mt-1 text-xs text-gray-500"> </p></div></div></div>'),l[v],[[451,5,[[452,6],[453,6,[[454,7,[[455,8],[458,8],[465,8]]],[467,7,[[468,8],[471,8],[478,8]]]]]]]]),la=p(m('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Layout Customization</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Max Width</label> <input type="text" placeholder="1200px" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <p class="mt-1 text-xs text-gray-500"> </p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Container Padding</label> <input type="text" placeholder="1rem" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <p class="mt-1 text-xs text-gray-500"> </p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Grid Gap</label> <input type="text" placeholder="1.5rem" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/> <p class="mt-1 text-xs text-gray-500"> </p></div></div></div>'),l[v],[[483,5,[[484,6],[485,6,[[486,7,[[487,8],[490,8],[497,8]]],[499,7,[[500,8],[503,8],[510,8]]],[514,7,[[515,8],[518,8],[525,8]]]]]]]]),na=p(m(`<div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg"><div><label class="text-sm font-medium text-gray-900"> </label> <p class="text-xs text-gray-500 mt-1"> </p></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div></label></div>`),l[v],[[545,8,[[546,9,[[547,10],[548,10]]],[550,9,[[551,10],[557,10]]]]]]),da=p(m('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Component Visibility</h2> <div class="space-y-4"></div></div>'),l[v],[[530,5,[[531,6],[532,6]]]]),ua=p(m(`<div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg"><div><label class="text-sm font-medium text-gray-900"> </label> <p class="text-xs text-gray-500 mt-1"> </p></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div></label></div>`),l[v],[[593,8,[[594,9,[[595,10],[596,10]]],[598,9,[[599,10],[605,10]]]]]]),ca=p(m('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Header Configuration</h2> <div class="space-y-4"></div></div>'),l[v],[[566,5,[[567,6],[568,6]]]]),va=p(m('<div class="border-b border-gray-200 mb-6"><nav class="-mb-px flex space-x-8"><button type="button">üé® Colors</button> <button type="button">üî§ Fonts</button> <button type="button">üìê Layout</button> <button type="button">üëÅÔ∏è Visibility</button> <button type="button">‚öôÔ∏è Header</button></nav></div> <!>',1),l[v],[[368,4,[[369,5,[[370,6],[379,6],[388,6],[397,6],[406,6]]]]]]),fa=p(m('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-6xl mx-auto px-4"><div class="bg-white rounded-lg shadow-md p-6"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-4"><a href="/admin/templates" class="text-blue-600 hover:text-blue-800 text-sm font-medium">‚Üê Back to Templates</a> <div><h1 class="text-2xl font-bold text-gray-900">Template Overrides</h1> <p class="text-gray-600 mt-1">Customize your active template: <span class="font-semibold"> </span></p></div></div> <div class="flex gap-2"><!> <!> <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm font-medium"><!></button></div></div> <!> <!> <!> <!></div></div></div>'),l[v],[[283,0,[[284,1,[[285,2,[[287,3,[[288,4,[[289,5],[295,5,[[296,6],[297,6,[[299,7]]]]]]],[303,4,[[327,5]]]]]]]]]]]]);function l(nt,Ge){Nt(new.target),Ht(Ge,!1,l);const ue=()=>(qt(it,"siteConfigData"),Kt(it,"$siteConfigData",dt)),[dt,ut]=Yt(),te=B(),ae=B();Rt(Ge,"data",8);let pe=[],c=B(null),ge=B(!0),ce=B(!1),ve=B(!1),q=B(""),J=B(""),y=B("colors"),O=B(!1),o={};Ut(async()=>{(await Z(ct()))(),Ne()});function Ne(){o={customColors:{...t(ae).customColors},customFonts:{...t(ae).customFonts},customLayout:{...t(ae).customLayout},componentVisibility:{...t(ae).componentVisibility},headerConfig:{...t(ae).headerConfig}}}async function ct(){n(ge,!0),n(J,"");try{const e=(await Z(fetch("/api/admin/templates")))();if(!e.ok)throw new Error("Failed to load templates");const s=(await Z(e.json()))();pe=Array.isArray(s)?s:[],n(c,pe.find(H=>E(H.templateName,t(te)))||pe[0]||null)}catch(e){console.error(...Ae("error","Error loading templates:",e)),n(J,`Failed to load templates: ${e instanceof Error?e.message:"Unknown error"}`)}finally{n(ge,!1)}}function Pe(e,s){o.customColors||(o.customColors={}),o.customColors[e]=s,o={...o},n(O,!0)}function Be(e,s){o.customFonts||(o.customFonts={}),o.customFonts[e]=s,o={...o},n(O,!0)}function ye(e,s){o.customLayout||(o.customLayout={}),o.customLayout[e]=s,o={...o},n(O,!0)}function vt(e,s){o.componentVisibility||(o.componentVisibility={}),o.componentVisibility[e]=s,o={...o},n(O,!0)}function ft(e,s){o.headerConfig||(o.headerConfig={}),o.headerConfig[e]=s,o={...o},n(O,!0)}function He(e){return o.customColors?.[e]||t(c)?.colors[e]||"#000000"}function Ue(e){return o.customFonts?.[e]||t(c)?.fonts[e]||"Inter"}function xe(e){return o.customLayout?.[e]||t(c)?.layout[e]||""}function bt(e){return E(o.componentVisibility?.[e],void 0,!1)?o.componentVisibility[e]:t(c)?.visibility?.[e]??!0}function mt(e){return E(o.headerConfig?.[e],void 0,!1)?o.headerConfig[e]:t(c)?.componentsConfig?.header?.[e]??!0}function ze(){return!!(o.customColors&&Object.keys(o.customColors).length>0||o.customFonts&&Object.keys(o.customFonts).length>0||o.customLayout&&Object.keys(o.customLayout).length>0||o.componentVisibility&&Object.keys(o.componentVisibility).length>0||o.headerConfig&&Object.keys(o.headerConfig).length>0)}async function pt(){n(ce,!0),n(q,""),n(J,"");try{const e=(await Z(fetch("/api/admin/site-config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:{activeTemplate:t(te),...o}})})))();if(!e.ok){const s=(await Z(e.json().catch(()=>({}))))();throw new Error(s.message||"Failed to save overrides")}n(q,"Template overrides saved successfully!"),n(O,!1),lt.load(),setTimeout(()=>{n(q,"")},3e3)}catch(e){console.error(...Ae("error","Error saving overrides:",e)),n(J,`Failed to save overrides: ${e instanceof Error?e.message:"Unknown error"}`)}finally{n(ce,!1)}}async function gt(){if(confirm("Are you sure you want to reset all template overrides to default?")){n(ve,!0),n(q,""),n(J,"");try{const e=(await Z(fetch("/api/admin/site-config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:{activeTemplate:t(te),customColors:{},customFonts:{},customLayout:{},componentVisibility:{},headerConfig:{}}})})))();if(!e.ok){const s=(await Z(e.json().catch(()=>({}))))();throw new Error(s.message||"Failed to reset overrides")}n(q,"Template overrides reset to default!"),o={},n(O,!1),lt.load(),setTimeout(()=>{n(q,"")},3e3)}catch(e){console.error(...Ae("error","Error resetting overrides:",e)),n(J,`Failed to reset overrides: ${e instanceof Error?e.message:"Unknown error"}`)}finally{n(ve,!1)}}}function yt(){t(O)&&!confirm("You have unsaved changes. Are you sure you want to cancel?")||(Ne(),n(O,!1))}rt(()=>ue(),()=>{n(te,ue()?.template?.activeTemplate||"modern")}),rt(()=>ue(),()=>{n(ae,ue()?.template||{})}),zt();var xt={...Pt()};Bt();var he=fa();Jt("ulbb0a",e=>{It(()=>{Wt.title="Template Overrides - Admin"})});var Me=r(he),Ie=r(Me),_e=r(Ie),we=r(_e),We=i(r(we),2),qe=i(r(We),2),Je=i(r(qe)),ht=r(Je,!0);a(Je),a(qe),a(We),a(we);var Re=i(we,2),Ye=r(Re);{var _t=e=>{var s=Qt();b("click",s,yt),d(e,s)};f(()=>w(Ye,e=>{t(O)&&e(_t)}),"if",l,304,5)}var Ke=i(Ye,2);{var wt=e=>{var s=Xt(),H=r(s);{var ke=k=>{var R=me("Resetting...");d(k,R)},Ce=k=>{var R=me("Reset to Default");d(k,R)};f(()=>w(H,k=>{t(ve)?k(ke):k(Ce,!1)}),"if",l,320,7)}a(s),P(()=>s.disabled=t(ve)),b("click",s,gt),d(e,s)};f(()=>w(Ke,e=>{u(ze)&&e(wt)}),"if",l,313,5)}var fe=i(Ke,2),kt=r(fe);{var Ct=e=>{var s=me("Saving...");d(e,s)},Ft=e=>{var s=me("Save Changes");d(e,s)};f(()=>w(kt,e=>{t(ce)?e(Ct):e(Ft,!1)}),"if",l,333,6)}a(fe),a(Re),a(_e);var Qe=i(_e,2);{var St=e=>{var s=Zt(),H=r(s,!0);a(s),P(()=>_(H,t(q))),d(e,s)};f(()=>w(Qe,e=>{t(q)&&e(St)}),"if",l,342,3)}var Xe=i(Qe,2);{var Lt=e=>{var s=ea(),H=r(s,!0);a(s),P(()=>_(H,t(J))),d(e,s)};f(()=>w(Xe,e=>{t(J)&&e(Lt)}),"if",l,346,3)}var Ze=i(Xe,2);{var Et=e=>{var s=ta();d(e,s)};f(()=>w(Ze,e=>{u(ze)&&e(Et)}),"if",l,350,3)}var Dt=i(Ze,2);{var Ot=e=>{var s=aa();d(e,s)},jt=e=>{var s=ne(),H=le(s);{var ke=k=>{var R=ra();d(k,R)},Ce=k=>{var R=va(),Fe=le(R),et=r(Fe),Se=r(et),Le=i(Se,2),Ee=i(Le,2),De=i(Ee,2),tt=i(De,2);a(et),a(Fe);var $t=i(Fe,2);{var Tt=re=>{var oe=sa(),be=i(r(oe),2);f(()=>$e(be,4,()=>["primary","secondary","accent","background","text","muted"],Te,(Oe,C)=>{var T=oa(),A=r(T),se=r(A);a(A);var U=i(A,2),j=r(U);W(j);var F=i(j,2);W(F),a(U);var V=i(U,2),z=r(V);a(V),a(T),P((g,$,S)=>{_(se,`${g??""} Color`),ee(j,$),ee(F,S),_(z,`Default: ${t(c),u(()=>t(c).colors[C])??""}`)},[()=>u(()=>C.charAt(0).toUpperCase()+C.slice(1)),()=>u(()=>He(C)),()=>u(()=>He(C))]),b("input",j,g=>Pe(C,g.target.value)),b("input",F,g=>Pe(C,g.target.value)),d(Oe,T)}),"each",l,423,7),a(be),a(oe),d(re,oe)},At=re=>{var oe=ne(),be=le(oe);{var Oe=T=>{var A=ia(),se=i(r(A),2),U=r(se),j=i(r(U),2);W(j);var F=i(j,2),V=r(F);a(F),a(U);var z=i(U,2),g=i(r(z),2);W(g);var $=i(g,2),S=r($);a($),a(z),a(se),a(A),P((x,G)=>{ee(j,x),_(V,`Default: ${t(c),u(()=>t(c).fonts.heading)??""}`),ee(g,G),_(S,`Default: ${t(c),u(()=>t(c).fonts.body)??""}`)},[()=>u(()=>Ue("heading")),()=>u(()=>Ue("body"))]),b("input",j,x=>Be("heading",x.target.value)),b("input",g,x=>Be("body",x.target.value)),d(T,A)},C=T=>{var A=ne(),se=le(A);{var U=F=>{var V=la(),z=i(r(V),2),g=r(z),$=i(r(g),2);W($);var S=i($,2),x=r(S);a(S),a(g);var G=i(g,2),Y=i(r(G),2);W(Y);var h=i(Y,2),M=r(h);a(h),a(G);var I=i(G,2),N=i(r(I),2);W(N);var D=i(N,2),K=r(D);a(D),a(I),a(z),a(V),P((L,Q,X)=>{ee($,L),_(x,`Default: ${t(c),u(()=>t(c).layout.maxWidth)??""}`),ee(Y,Q),_(M,`Default: ${t(c),u(()=>t(c).layout.containerPadding)??""}`),ee(N,X),_(K,`Default: ${t(c),u(()=>t(c).layout.gridGap)??""}`)},[()=>u(()=>xe("maxWidth")),()=>u(()=>xe("containerPadding")),()=>u(()=>xe("gridGap"))]),b("input",$,L=>ye("maxWidth",L.target.value)),b("input",Y,L=>ye("containerPadding",L.target.value)),b("input",N,L=>ye("gridGap",L.target.value)),d(F,V)},j=F=>{var V=ne(),z=le(V);{var g=S=>{var x=da(),G=i(r(x),2);f(()=>$e(G,4,()=>[{key:"hero",label:"Hero Section",desc:"Show the hero section on the home page"},{key:"languageSelector",label:"Language Selector",desc:"Show the language selection dropdown"},{key:"authButtons",label:"Auth Buttons",desc:"Show login/logout buttons"},{key:"footerMenu",label:"Footer Menu",desc:"Show footer navigation menu"},{key:"statistics",label:"Statistics",desc:"Show site statistics"},{key:"promotion",label:"Promotion",desc:"Show promotional content"}],Te,(Y,h)=>{var M=na(),I=r(M),N=r(I),D=r(N,!0);a(N);var K=i(N,2),L=r(K,!0);a(K),a(I);var Q=i(I,2),X=r(Q);W(X),ot(2),a(Q),a(M),P(ie=>{_(D,u(()=>h.label)),_(L,u(()=>h.desc)),st(X,ie)},[()=>u(()=>bt(h.key))]),b("change",X,ie=>vt(h.key,ie.target.checked)),d(Y,M)}),"each",l,533,7),a(G),a(x),d(S,x)},$=S=>{var x=ne(),G=le(x);{var Y=h=>{var M=ca(),I=i(r(M),2);f(()=>$e(I,4,()=>[{key:"showLogo",label:"Show Logo",desc:"Display the site logo in the header"},{key:"showSiteTitle",label:"Show Site Title",desc:"Display the site title in the header"},{key:"enableThemeToggle",label:"Enable Theme Toggle",desc:"Show dark/light mode toggle button"},{key:"enableLanguageSelector",label:"Enable Language Selector",desc:"Show language selection dropdown"},{key:"showAuthButtons",label:"Show Auth Buttons",desc:"Display login/logout buttons"},{key:"showGreeting",label:"Show Greeting",desc:"Display welcome message for logged-in users"}],Te,(N,D)=>{var K=ua(),L=r(K),Q=r(L),X=r(Q,!0);a(Q);var ie=i(Q,2),Gt=r(ie,!0);a(ie),a(L);var at=i(L,2),je=r(at);W(je),ot(2),a(at),a(K),P(Ve=>{_(X,u(()=>D.label)),_(Gt,u(()=>D.desc)),st(je,Ve)},[()=>u(()=>mt(D.key))]),b("change",je,Ve=>ft(D.key,Ve.target.checked)),d(N,K)}),"each",l,569,7),a(I),a(M),d(h,M)};f(()=>w(G,h=>{E(t(y),"header")&&h(Y)},!0),"if",l,565,4)}d(S,x)};f(()=>w(z,S=>{E(t(y),"visibility")?S(g):S($,!1)},!0),"if",l,529,4)}d(F,V)};f(()=>w(se,F=>{E(t(y),"layout")?F(U):F(j,!1)},!0),"if",l,482,4)}d(T,A)};f(()=>w(be,T=>{E(t(y),"fonts")?T(Oe):T(C,!1)},!0),"if",l,450,4)}d(re,oe)};f(()=>w($t,re=>{E(t(y),"colors")?re(Tt):re(At,!1)}),"if",l,419,4)}P(()=>{de(Se,1,`py-4 px-1 border-b-2 font-medium text-sm ${E(t(y),"colors")?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),de(Le,1,`py-4 px-1 border-b-2 font-medium text-sm ${E(t(y),"fonts")?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),de(Ee,1,`py-4 px-1 border-b-2 font-medium text-sm ${E(t(y),"layout")?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),de(De,1,`py-4 px-1 border-b-2 font-medium text-sm ${E(t(y),"visibility")?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),de(tt,1,`py-4 px-1 border-b-2 font-medium text-sm ${E(t(y),"header")?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`)}),b("click",Se,()=>n(y,"colors")),b("click",Le,()=>n(y,"fonts")),b("click",Ee,()=>n(y,"layout")),b("click",De,()=>n(y,"visibility")),b("click",tt,()=>n(y,"header")),d(k,R)};f(()=>w(H,k=>{t(c)?k(Ce,!1):k(ke)},!0),"if",l,362,3)}d(e,s)};f(()=>w(Dt,e=>{t(ge)?e(Ot):e(jt,!1)}),"if",l,357,3)}a(Ie),a(Me),a(he),P(()=>{_(ht,(t(c),t(te),u(()=>t(c)?.displayName||t(te)))),fe.disabled=!t(O)||t(ce)}),b("click",fe,pt),d(nt,he);var Vt=Mt(xt);return ut(),Vt}export{l as component};
