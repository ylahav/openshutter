import{c as dt,l as ct,a as p,f as w,b as ut,t as se}from"../chunks/mVdtGE8-.js";import{i as vt}from"../chunks/DfpQQ0Vj.js";import{p as ft,o as gt,h as ze,j as y,u as C,c as o,k as e,a as pt,e as bt,f as l,m as N,r,v as b,q as i,F as h,t as Z,w as G,$ as mt,n as Ce,G as Ee,D as Re,x as O}from"../chunks/CK0-DIe0.js";import{a as k,e as z}from"../chunks/Bv0kf0zg.js";import{s as S}from"../chunks/Bwj96XKz.js";import{i as j}from"../chunks/BhPWbYAn.js";import{e as ie,i as le}from"../chunks/jNwdByo0.js";import{h as xt}from"../chunks/CBTfresD.js";import{l as X,r as oe}from"../chunks/BSTdbr_g.js";import{s as He}from"../chunks/Bgqm-9EX.js";import{s as Fe}from"../chunks/feV01kHf.js";import{b as ee,a as _t}from"../chunks/DesAynyD.js";import{b as $e}from"../chunks/DL2tifvZ.js";import{p as yt}from"../chunks/ux2VXDBy.js";import"../chunks/DdYhDDtT.js";n[h]="src/routes/admin/tags/+page.svelte";var ht=k(w('<div class="mb-4 p-4 rounded-md bg-green-50 text-green-700"> </div>'),n[h],[[283,4]]),wt=k(w('<div class="mb-4 p-4 rounded-md bg-red-50 text-red-700"> </div>'),n[h],[[287,4]]),kt=k(w("<option> </option>"),n[h],[[323,7]]),Tt=k(w('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <p class="mt-2 text-gray-600">Loading tags...</p></div>'),n[h],[[347,4,[[348,5],[349,5]]]]),Ct=k(w('<div class="text-center py-8"><svg class="h-12 w-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> <h3 class="text-lg font-semibold text-gray-900 mb-2">No tags found</h3> <p class="text-gray-600">Start by adding your first tag.</p></div>'),n[h],[[352,4,[[353,5,[[359,6]]],[366,5],[367,5]]]]),Et=k(w('<p class="text-sm text-gray-600 mb-2"> </p>'),n[h],[[415,8]]),Ft=k(w('<span class="text-xs text-gray-500"> </span>'),n[h],[[425,9]]),$t=k(w('<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4"><div class="flex items-start justify-between mb-3"><div class="flex items-center space-x-2 flex-1"><div class="w-4 h-4 rounded-full border border-gray-300"></div> <h3 class="font-semibold text-gray-900"> </h3></div> <div class="flex space-x-1"><button type="button" class="p-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button type="button" class="p-1 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div> <!> <div class="flex items-center justify-between mt-3"><span class="px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-800"> </span> <!></div></div>'),n[h],[[372,6,[[373,7,[[374,8,[[375,9],[379,9]]],[382,8,[[383,9,[[388,10,[[389,11]]]]],[397,9,[[402,10,[[403,11]]]]]]]]],[418,7,[[419,8]]]]]]),jt=k(w('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),n[h],[[370,4]]),At=k(w('<div class="mb-4 p-4 bg-red-50 text-red-700 rounded-md"> </div>'),n[h],[[445,4]]),Dt=k(w("<option> </option>"),n[h],[[483,7]]),Bt=k(w('<button type="button"></button>'),n[h],[[507,7]]),Mt=k(w('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto"><h2 class="text-xl font-bold text-gray-900 mb-4">Add New Tag</h2> <!> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Tag Name *</label> <input type="text" placeholder="e.g., Family, Vacation, Nature" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Description</label> <textarea placeholder="Optional description..." rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Color</label> <div class="flex items-center gap-3"><input type="color" class="w-16 h-10 border border-gray-300 rounded cursor-pointer"/> <input type="text" placeholder="#3B82F6" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div class="flex flex-wrap gap-2 mt-2"></div></div> <div class="flex justify-end space-x-2 pt-4"><button type="button" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm font-medium">Cancel</button> <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm font-medium"><!></button></div></div></div></div>'),n[h],[[440,1,[[441,2,[[442,3],[448,3,[[449,4,[[450,5],[453,5]]],[462,4,[[463,5],[466,5]]],[474,4,[[475,5],[478,5]]],[488,4,[[489,5],[492,5,[[493,6],[498,6]]],[505,5]]],[519,4,[[520,5],[530,5]]]]]]]]]]),Nt=k(w('<div class="mb-4 p-4 bg-red-50 text-red-700 rounded-md"> </div>'),n[h],[[555,4]]),St=k(w("<option> </option>"),n[h],[[593,7]]),Ut=k(w('<button type="button"></button>'),n[h],[[617,7]]),Lt=k(w(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto"><h2 class="text-xl font-bold text-gray-900 mb-4">Edit Tag</h2> <!> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Tag Name *</label> <input type="text" placeholder="e.g., Family, Vacation, Nature" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Description</label> <textarea placeholder="Optional description..." rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></textarea></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Color</label> <div class="flex items-center gap-3"><input type="color" class="w-16 h-10 border border-gray-300 rounded cursor-pointer"/> <input type="text" placeholder="#3B82F6" class="flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div class="flex flex-wrap gap-2 mt-2"></div></div> <div class="flex items-center"><label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div> <span class="ml-3 text-sm font-medium text-gray-700">Active</span></label></div> <div class="flex justify-end space-x-2 pt-4"><button type="button" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm font-medium">Cancel</button> <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm font-medium"><!></button></div></div></div></div>`),n[h],[[550,1,[[551,2,[[552,3],[558,3,[[559,4,[[560,5],[563,5]]],[572,4,[[573,5],[576,5]]],[584,4,[[585,5],[588,5]]],[598,4,[[599,5],[602,5,[[603,6],[608,6]]],[615,5]]],[629,4,[[630,5,[[631,6],[636,6],[639,6]]]]],[645,4,[[646,5],[657,5]]]]]]]]]]),Ot=k(w('<div class="mb-4 p-4 bg-red-50 text-red-700 rounded-md"> </div>'),n[h],[[682,4]]),zt=k(w('<div class="p-3 bg-yellow-50 border border-yellow-200 rounded-md"><p class="text-sm text-yellow-800"> </p></div>'),n[h],[[691,5,[[692,6]]]]),Rt=k(w(`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Delete Tag</h2> <!> <div class="space-y-4"><p class="text-gray-600">Are you sure you want to delete <strong> </strong>? This action
					cannot be undone.</p> <!> <div class="flex justify-end space-x-2"><button type="button" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm font-medium">Cancel</button> <button type="button" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 text-sm font-medium"><!></button></div></div></div></div>`),n[h],[[677,1,[[678,2,[[679,3],[685,3,[[686,4,[[687,37]]],[699,4,[[700,5],[710,5]]]]]]]]]]),Ht=k(w('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-6xl mx-auto px-4"><div class="bg-white rounded-lg shadow-md p-6"><div class="flex items-center justify-between mb-6"><div><h1 class="text-2xl font-bold text-gray-900">Tags Management</h1> <p class="text-gray-600 mt-2">Manage tags for categorizing and organizing your photos</p></div> <a href="/admin" class="text-blue-600 hover:text-blue-800 text-sm font-medium">← Back to Admin</a></div> <!> <!> <div class="flex items-center justify-between mb-6"><div class="flex items-center space-x-4"><div class="relative"><input type="text" placeholder="Search tags..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"/> <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <select class="px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"><option>All Categories</option><!></select></div> <button type="button" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Add Tag</button></div> <!></div></div></div> <!> <!> <!>',1),n[h],[[266,0,[[267,1,[[268,2,[[269,3,[[270,4,[[271,5],[272,5]]],[274,4]]],[291,3,[[292,4,[[293,5,[[294,6],[301,6,[[307,7]]]]],[316,5,[[321,6]]]]],[328,4,[[333,5,[[334,6]]]]]]]]]]]]]]);function n(Pe,je){dt(new.target),ft(je,!1,n),yt(je,"data",8);const ce=[{value:"general",label:"General"},{value:"location",label:"Location"},{value:"event",label:"Event"},{value:"object",label:"Object"},{value:"mood",label:"Mood"},{value:"technical",label:"Technical"},{value:"custom",label:"Custom"}],Ae=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1"];let V=N([]),me=N(!0),I=N(!1),ue=N(!1),P=N(""),E=N(""),ve=N(""),ne=N("all"),fe=N(!1),ge=N(!1),pe=N(!1),te=N(null),$=N(null),s=N({name:"",description:"",color:"#3B82F6",category:"general",isActive:!0});gt(async()=>{(await Z(xe()))()});async function xe(){i(me,!0),i(E,"");try{const t=new URLSearchParams;e(ve)&&t.append("search",e(ve)),G(e(ne),"all",!1)&&t.append("category",e(ne));const a=(await Z(fetch(`/api/admin/tags?${t.toString()}`)))();if(!a.ok)throw new Error("Failed to load tags");const f=(await Z(a.json()))();i(V,Array.isArray(f.data)?f.data:Array.isArray(f)?f:[])}catch(t){console.error(...X("error","Error loading tags:",t)),i(E,`Failed to load tags: ${t instanceof Error?t.message:"Unknown error"}`)}finally{i(me,!1)}}function de(){i(s,{name:"",description:"",color:"#3B82F6",category:"general",isActive:!0})}function qe(){de(),i(fe,!0),i(E,"")}function Ge(t){i(te,t),i(s,{name:t.name||"",description:t.description||"",color:t.color||"#3B82F6",category:t.category||"general",isActive:G(t.isActive,void 0,!1)?t.isActive:!0}),i(ge,!0),i(E,"")}function Ve(t){i($,t),i(pe,!0)}async function Ie(){i(I,!0),i(E,""),i(P,"");try{console.log(...X("log","Creating tag with data:",e(s)));const t=(await Z(fetch("/api/admin/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e(s))})))(),a=(await Z(t.json().catch(x=>(console.error(...X("error","Failed to parse response:",x)),null))))();if(console.log(...X("log","Response status:",t.status,"Response data:",a)),!t.ok){const x=a?.message||`HTTP ${t.status}: Failed to create tag`;throw new Error(x)}if(!a)throw new Error("No data returned from server");const f=a.data||a;i(V,[...e(V),f]),i(P,"Tag created successfully!"),i(fe,!1),de(),setTimeout(()=>{i(P,"")},3e3)}catch(t){console.error(...X("error","Error creating tag:",t)),i(E,`Failed to create tag: ${t instanceof Error?t.message:"Unknown error"}`)}finally{i(I,!1)}}async function Je(){if(e(te)){i(I,!0),i(E,""),i(P,"");try{console.log(...X("log","Updating tag:",e(te)._id,"with data:",e(s)));const t=(await Z(fetch(`/api/admin/tags/${e(te)._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e(s))})))(),a=(await Z(t.json().catch(x=>(console.error(...X("error","Failed to parse response:",x)),null))))();if(console.log(...X("log","Response status:",t.status,"Response data:",a)),!t.ok){const x=a?.message||`HTTP ${t.status}: Failed to update tag`;throw new Error(x)}if(!a)throw new Error("No data returned from server");const f=a.data||a;i(V,e(V).map(x=>G(x._id,e(te)._id)?f:x)),i(P,"Tag updated successfully!"),i(ge,!1),i(te,null),de(),setTimeout(()=>{i(P,"")},3e3)}catch(t){console.error(...X("error","Error updating tag:",t)),i(E,`Failed to update tag: ${t instanceof Error?t.message:"Unknown error"}`)}finally{i(I,!1)}}}async function Ke(){if(e($)){i(ue,!0),i(E,""),i(P,"");try{const t=(await Z(fetch(`/api/admin/tags/${e($)._id}`,{method:"DELETE"})))();if(!t.ok){const a=(await Z(t.json().catch(()=>({}))))();throw new Error(a.message||"Failed to delete tag")}i(V,e(V).filter(a=>G(a._id,e($)._id,!1))),i(P,"Tag deleted successfully!"),i(pe,!1),i($,null),setTimeout(()=>{i(P,"")},3e3)}catch(t){console.error(...X("error","Error deleting tag:",t)),i(E,`Failed to delete tag: ${t instanceof Error?t.message:"Unknown error"}`)}finally{i(ue,!1)}}}function Qe(t){return ce.find(a=>G(a.value,t))?.label||t}var We={...ct()};vt();var De=Ht();xt("1s5glru",t=>{bt(()=>{mt.title="Tags Management - Admin"})});var _e=ze(De),Be=o(_e),Me=o(Be),Ne=l(o(Me),2);{var Xe=t=>{var a=ht(),f=o(a,!0);r(a),C(()=>S(f,e(P))),p(t,a)};y(()=>j(Ne,t=>{e(P)&&t(Xe)}),"if",n,282,3)}var Se=l(Ne,2);{var Ye=t=>{var a=wt(),f=o(a,!0);r(a),C(()=>S(f,e(E))),p(t,a)};y(()=>j(Se,t=>{e(E)&&t(Ye)}),"if",n,286,3)}var ye=l(Se,2),he=o(ye),we=o(he),ke=o(we);oe(ke),Ce(2),r(we);var be=l(we,2);C(()=>{e(ne),Ee(()=>{})});var Te=o(be);Te.value=Te.__value="all";var Ze=l(Te);y(()=>ie(Ze,1,()=>ce,le,(t,a)=>{var f=kt(),x=o(f,!0);r(f);var J={};C(()=>{S(x,(e(a),b(()=>e(a).label))),J!==(J=(e(a),b(()=>e(a).value)))&&(f.value=(f.__value=(e(a),b(()=>e(a).value)))??"")}),p(t,f)}),"each",n,322,6),r(be),r(he);var et=l(he,2);r(ye);var tt=l(ye,2);{var rt=t=>{var a=Tt();p(t,a)},at=t=>{var a=ut(),f=ze(a);{var x=A=>{var F=Ct();p(A,F)},J=A=>{var F=jt();y(()=>ie(F,5,()=>e(V),le,(K,g)=>{var R=$t(),U=o(R),B=o(U),L=o(B),D=l(L,2),q=o(D,!0);r(D),r(B);var Q=l(B,2),W=o(Q),_=l(W,2);r(Q),r(U);var T=l(U,2);{var M=m=>{var d=Et(),c=o(d,!0);r(d),C(()=>S(c,(e(g),b(()=>e(g).description)))),p(m,d)};y(()=>j(T,m=>{e(g),b(()=>e(g).description)&&m(M)}),"if",n,414,7)}var Y=l(T,2),re=o(Y),ae=o(re,!0);r(re);var v=l(re,2);{var u=m=>{var d=Ft(),c=o(d);r(d),C(()=>S(c,`Used ${e(g),b(()=>e(g).usageCount)??""} ${e(g),b(()=>G(e(g).usageCount,1)?"time":"times")??""}`)),p(m,d)};y(()=>j(v,m=>{e(g),b(()=>G(e(g).usageCount,void 0,!1))&&m(u)}),"if",n,424,8)}r(Y),r(R),C(m=>{Fe(L,`background-color: ${e(g),b(()=>e(g).color||"#3B82F6")??""}`),S(q,(e(g),b(()=>e(g).name))),S(ae,m)},[()=>(e(g),b(()=>Qe(e(g).category||"general")))]),z("click",W,()=>Ge(e(g))),z("click",_,()=>Ve(e(g))),p(K,R)}),"each",n,371,5),r(F),p(A,F)};y(()=>j(f,A=>{e(V),b(()=>G(e(V).length,0))?A(x):A(J,!1)},!0),"if",n,351,3)}p(t,a)};y(()=>j(tt,t=>{e(me)?t(rt):t(at,!1)}),"if",n,346,3)}r(Me),r(Be),r(_e);var Ue=l(_e,2);{var ot=t=>{var a=Mt(),f=o(a),x=l(o(f),2);{var J=v=>{var u=At(),m=o(u,!0);r(u),C(()=>S(m,e(E))),p(v,u)};y(()=>j(x,v=>{e(E)&&v(J)}),"if",n,444,3)}var A=l(x,2),F=o(A),K=l(o(F),2);oe(K),r(F);var g=l(F,2),R=l(o(g),2);Re(R),r(g);var U=l(g,2),B=l(o(U),2);C(()=>{e(s),Ee(()=>{})}),y(()=>ie(B,5,()=>ce,le,(v,u)=>{var m=Dt(),d=o(m,!0);r(m);var c={};C(()=>{S(d,(e(u),b(()=>e(u).label))),c!==(c=(e(u),b(()=>e(u).value)))&&(m.value=(m.__value=(e(u),b(()=>e(u).value)))??"")}),p(v,m)}),"each",n,482,6),r(B),r(U);var L=l(U,2),D=l(o(L),2),q=o(D);oe(q);var Q=l(q,2);oe(Q),r(D);var W=l(D,2);y(()=>ie(W,5,()=>Ae,le,(v,u)=>{var m=Bt();C(()=>{He(m,1,`w-8 h-8 rounded border-2 ${e(s),e(u),b(()=>G(e(s).color,e(u))?"border-gray-800":"border-gray-300")??""} hover:border-gray-500`),Fe(m,`background-color: ${e(u)??""}`)}),z("click",m,()=>O(s,e(s).color=e(u))),p(v,m)}),"each",n,506,6),r(W),r(L);var _=l(L,2),T=o(_),M=l(T,2),Y=o(M);{var re=v=>{var u=se("Creating...");p(v,u)},ae=v=>{var u=se("Create Tag");p(v,u)};y(()=>j(Y,v=>{e(I)?v(re):v(ae,!1)}),"if",n,536,6)}r(M),r(_),r(A),r(f),r(a),C(v=>M.disabled=v,[()=>(e(I),e(s),b(()=>e(I)||!e(s).name.trim()))]),ee(K,function(){return e(s).name},function(u){O(s,e(s).name=u)}),ee(R,function(){return e(s).description},function(u){O(s,e(s).description=u)}),$e(B,function(){return e(s).category},function(u){O(s,e(s).category=u)}),ee(q,function(){return e(s).color},function(u){O(s,e(s).color=u)}),ee(Q,function(){return e(s).color},function(u){O(s,e(s).color=u)}),z("click",T,()=>{i(fe,!1),de()}),z("click",M,Ie),p(t,a)};y(()=>j(Ue,t=>{e(fe)&&t(ot)}),"if",n,439,0)}var Le=l(Ue,2);{var st=t=>{var a=Lt(),f=o(a),x=l(o(f),2);{var J=d=>{var c=Nt(),H=o(c,!0);r(c),C(()=>S(H,e(E))),p(d,c)};y(()=>j(x,d=>{e(E)&&d(J)}),"if",n,554,3)}var A=l(x,2),F=o(A),K=l(o(F),2);oe(K),r(F);var g=l(F,2),R=l(o(g),2);Re(R),r(g);var U=l(g,2),B=l(o(U),2);C(()=>{e(s),Ee(()=>{})}),y(()=>ie(B,5,()=>ce,le,(d,c)=>{var H=St(),nt=o(H,!0);r(H);var Oe={};C(()=>{S(nt,(e(c),b(()=>e(c).label))),Oe!==(Oe=(e(c),b(()=>e(c).value)))&&(H.value=(H.__value=(e(c),b(()=>e(c).value)))??"")}),p(d,H)}),"each",n,592,6),r(B),r(U);var L=l(U,2),D=l(o(L),2),q=o(D);oe(q);var Q=l(q,2);oe(Q),r(D);var W=l(D,2);y(()=>ie(W,5,()=>Ae,le,(d,c)=>{var H=Ut();C(()=>{He(H,1,`w-8 h-8 rounded border-2 ${e(s),e(c),b(()=>G(e(s).color,e(c))?"border-gray-800":"border-gray-300")??""} hover:border-gray-500`),Fe(H,`background-color: ${e(c)??""}`)}),z("click",H,()=>O(s,e(s).color=e(c))),p(d,H)}),"each",n,616,6),r(W),r(L);var _=l(L,2),T=o(_),M=o(T);oe(M),Ce(4),r(T),r(_);var Y=l(_,2),re=o(Y),ae=l(re,2),v=o(ae);{var u=d=>{var c=se("Updating...");p(d,c)},m=d=>{var c=se("Update Tag");p(d,c)};y(()=>j(v,d=>{e(I)?d(u):d(m,!1)}),"if",n,663,6)}r(ae),r(Y),r(A),r(f),r(a),C(d=>ae.disabled=d,[()=>(e(I),e(s),b(()=>e(I)||!e(s).name.trim()))]),ee(K,function(){return e(s).name},function(c){O(s,e(s).name=c)}),ee(R,function(){return e(s).description},function(c){O(s,e(s).description=c)}),$e(B,function(){return e(s).category},function(c){O(s,e(s).category=c)}),ee(q,function(){return e(s).color},function(c){O(s,e(s).color=c)}),ee(Q,function(){return e(s).color},function(c){O(s,e(s).color=c)}),_t(M,function(){return e(s).isActive},function(c){O(s,e(s).isActive=c)}),z("click",re,()=>{i(ge,!1),i(te,null),de()}),z("click",ae,Je),p(t,a)};y(()=>j(Le,t=>{e(ge)&&e(te)&&t(st)}),"if",n,549,0)}var it=l(Le,2);{var lt=t=>{var a=Rt(),f=o(a),x=l(o(f),2);{var J=_=>{var T=Ot(),M=o(T,!0);r(T),C(()=>S(M,e(E))),p(_,T)};y(()=>j(x,_=>{e(E)&&_(J)}),"if",n,681,3)}var A=l(x,2),F=o(A),K=l(o(F)),g=o(K,!0);r(K),Ce(),r(F);var R=l(F,2);{var U=_=>{var T=zt(),M=o(T),Y=o(M);r(M),r(T),C(()=>S(Y,`⚠️ This tag is used in ${e($),b(()=>e($).usageCount)??""} 
							${e($),b(()=>G(e($).usageCount,1)?"photo":"photos")??""}. Deleting it will remove
							the tag from all photos.`)),p(_,T)};y(()=>j(R,_=>{e($),b(()=>e($).usageCount&&e($).usageCount>0)&&_(U)}),"if",n,690,4)}var B=l(R,2),L=o(B),D=l(L,2),q=o(D);{var Q=_=>{var T=se("Deleting...");p(_,T)},W=_=>{var T=se("Delete Tag");p(_,T)};y(()=>j(q,_=>{e(ue)?_(Q):_(W,!1)}),"if",n,716,6)}r(D),r(B),r(A),r(f),r(a),C(()=>{S(g,(e($),b(()=>e($).name))),D.disabled=e(ue)}),z("click",L,()=>{i(pe,!1),i($,null)}),z("click",D,Ke),p(t,a)};y(()=>j(it,t=>{e(pe)&&e($)&&t(lt)}),"if",n,676,0)}return ee(ke,function(){return e(ve)},function(a){i(ve,a)}),z("input",ke,()=>xe()),$e(be,function(){return e(ne)},function(a){i(ne,a)}),z("change",be,()=>xe()),z("click",et,qe),p(Pe,De),pt(We)}export{n as component};
