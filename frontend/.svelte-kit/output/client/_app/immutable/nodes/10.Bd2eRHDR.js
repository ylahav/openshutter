import{c as nr,l as vr,a as c,f as g,b as lr,t as xa}from"../chunks/mVdtGE8-.js";import{i as cr}from"../chunks/DfpQQ0Vj.js";import{p as fr,o as gr,l as ur,g as pr,j as p,a as mr,e as _r,f as l,k as a,m as $,F as f,c as n,t as j,q as m,$ as br,r as i,u as y,h as ya,v as d,w as B,B as ha,C as wa,n as ka}from"../chunks/CK0-DIe0.js";import{a as u,e as xr}from"../chunks/Bv0kf0zg.js";import{s as b}from"../chunks/Bwj96XKz.js";import{i as _}from"../chunks/BhPWbYAn.js";import{e as yr,i as hr}from"../chunks/jNwdByo0.js";import{v as wr}from"../chunks/DTEFG1b5.js";import{h as kr}from"../chunks/CBTfresD.js";import{l as $a,s as A}from"../chunks/BSTdbr_g.js";import{s as aa}from"../chunks/Bgqm-9EX.js";import{s as O}from"../chunks/feV01kHf.js";import{p as $r}from"../chunks/ux2VXDBy.js";import{s as Ar,a as Tr}from"../chunks/BKTEqjJl.js";import"../chunks/DdYhDDtT.js";import{s as Aa,a as Cr}from"../chunks/74aT5YJ6.js";t[f]="src/routes/admin/templates/+page.svelte";var jr=u(g('<div class="mb-4 p-4 rounded-md bg-green-50 text-green-700"> </div>'),t[f],[[138,4]]),Er=u(g('<div class="mb-4 p-4 rounded-md bg-red-50 text-red-700"> </div>'),t[f],[[142,4]]),Dr=u(g('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <p class="mt-2 text-gray-600">Loading templates...</p></div>'),t[f],[[146,4,[[147,5],[148,5]]]]),Fr=u(g('<div class="text-center py-8"><p class="text-gray-600">No templates available.</p></div>'),t[f],[[151,4,[[152,5]]]]),Mr=u(g('<img class="w-full h-full object-cover"/>'),t[f],[[167,9]]),Nr=u(g('<div class="text-white text-4xl font-bold"> </div>'),t[f],[[173,9]]),qr=u(g('<div class="absolute top-2 right-2 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold">Active</div>'),t[f],[[176,9]]),Br=u(g('<span class="px-2 py-1 text-xs bg-green-100 text-green-700 rounded">Responsive</span>'),t[f],[[201,10]]),Or=u(g('<span class="px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded">Dark Mode</span>'),t[f],[[204,10]]),Sr=u(g('<span class="px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded">Animations</span>'),t[f],[[207,10]]),Ur=u(g('<span class="px-2 py-1 text-xs bg-orange-100 text-orange-700 rounded">SEO</span>'),t[f],[[210,10]]),Lr=u(g('<button type="button" disabled class="flex-1 px-4 py-2 bg-gray-200 text-gray-600 rounded-md cursor-not-allowed text-sm font-medium">Currently Active</button>'),t[f],[[247,10]]),Pr=u(g('<button type="button" class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium"><!></button>'),t[f],[[255,10]]),zr=u(g('<div><div><!> <!></div> <div class="p-4"><div class="flex items-start justify-between mb-2"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <span> </span></div> <div class="flex flex-wrap gap-2 mt-3 mb-4"><!> <!> <!> <!></div> <div class="flex gap-1 mb-4"><div class="w-6 h-6 rounded-full border border-gray-300"></div> <div class="w-6 h-6 rounded-full border border-gray-300"></div> <div class="w-6 h-6 rounded-full border border-gray-300"></div> <div class="w-6 h-6 rounded-full border border-gray-300"></div></div> <div class="text-xs text-gray-500 mb-4"><p> </p> <p> </p></div> <div class="flex gap-2"><!></div></div></div>'),t[f],[[159,6,[[165,7],[185,7,[[186,8,[[187,9,[[188,10],[189,10]]],[191,9]]],[199,8],[215,8,[[216,9],[221,9],[226,9],[231,9]]],[239,8,[[240,9],[241,9]]],[245,8]]]]]]),Ir=u(g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <div class="mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200"><h2 class="text-lg font-semibold text-gray-900 mb-2">Current Active Template</h2> <p class="text-gray-700">The <strong> </strong> template is currently active and being used for your gallery.</p> <p class="text-sm text-gray-600 mt-2">To change the template, click "Activate Template" on any template card above.</p></div>',1),t[f],[[155,4],[275,4,[[276,5],[277,5,[[278,10]]],[280,5]]]]),Jr=u(g('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-6xl mx-auto px-4"><div class="bg-white rounded-lg shadow-md p-6"><div class="flex items-center justify-between mb-6"><div><h1 class="text-2xl font-bold text-gray-900">Template Management</h1> <p class="text-gray-600 mt-2">Choose and manage your gallery templates</p></div> <a href="/admin" class="text-blue-600 hover:text-blue-800 text-sm font-medium">‚Üê Back to Admin</a></div> <!> <!> <!></div></div></div>'),t[f],[[121,0,[[122,1,[[123,2,[[124,3,[[125,4,[[126,5],[127,5]]],[129,4]]]]]]]]]]);function t(Ta,ra){nr(new.target),fr(ra,!1,t);const ea=()=>(wr(Aa,"siteConfigData"),Tr(Aa,"$siteConfigData",Ca)),[Ca,ja]=Ar(),T=$();$r(ra,"data",8);let E=$([]),S=$(!0),D=$(!1),C=$(""),h=$("");gr(async()=>{(await j(Ea()))()});async function Ea(){m(S,!0),m(h,"");try{const s=(await j(fetch("/api/admin/templates")))();if(!s.ok)throw new Error("Failed to load templates");const v=(await j(s.json()))();m(E,Array.isArray(v)?v:[])}catch(s){console.error(...$a("error","Error loading templates:",s)),m(h,`Failed to load templates: ${s instanceof Error?s.message:"Unknown error"}`)}finally{m(S,!1)}}async function Da(s){if(!B(s,a(T))){m(D,!0),m(C,""),m(h,"");try{const v=(await j(fetch("/api/admin/site-config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:{activeTemplate:s}})})))();if(!v.ok){const x=(await j(v.json().catch(()=>({}))))();throw new Error(x.message||"Failed to update template")}m(C,`Template "${s}" activated successfully!`),Cr.load(),setTimeout(()=>{m(C,"")},3e3)}catch(v){console.error(...$a("error","Error setting active template:",v)),m(h,`Failed to set active template: ${v instanceof Error?v.message:"Unknown error"}`)}finally{m(D,!1)}}}function Fa(s){return{minimal:"gray",modern:"blue",classic:"purple",dark:"slate",custom:"indigo",elegant:"pink"}[s]||"gray"}ur(()=>ea(),()=>{m(T,ea()?.template?.activeTemplate||"modern")}),pr();var Ma={...vr()};cr();var U=Jr();kr("15vd4s4",s=>{_r(()=>{br.title="Template Management - Admin"})});var ta=n(U),sa=n(ta),oa=l(n(sa),2);{var Na=s=>{var v=jr(),x=n(v,!0);i(v),y(()=>b(x,a(C))),c(s,v)};p(()=>_(oa,s=>{a(C)&&s(Na)}),"if",t,137,3)}var ia=l(oa,2);{var qa=s=>{var v=Er(),x=n(v,!0);i(v),y(()=>b(x,a(h))),c(s,v)};p(()=>_(ia,s=>{a(h)&&s(qa)}),"if",t,141,3)}var Ba=l(ia,2);{var Oa=s=>{var v=Dr();c(s,v)},Sa=s=>{var v=lr(),x=ya(v);{var La=w=>{var F=Fr();c(w,F)},Pa=w=>{var F=Ir(),L=ya(F);p(()=>yr(L,5,()=>a(E),hr,(Ia,r)=>{const M=ha(wa(()=>(a(r),a(T),d(()=>B(a(r).templateName,a(T))))),"isActive");a(M);const P=ha(wa(()=>(a(r),d(()=>Fa(a(r).category)))),"categoryColor");a(P);var N=zr(),q=n(N),la=n(q);{var Ja=e=>{var o=Mr();y(()=>{A(o,"src",(a(r),d(()=>a(r).thumbnail))),A(o,"alt",(a(r),d(()=>a(r).displayName)))}),c(e,o)},Ra=e=>{var o=Nr(),Y=n(o,!0);i(o),y(()=>b(Y,(a(r),d(()=>a(r).displayName)))),c(e,o)};p(()=>_(la,e=>{a(r),d(()=>a(r).thumbnail&&B(a(r).thumbnail,"/templates/default/thumbnail.jpg",!1))?e(Ja):e(Ra,!1)}),"if",t,166,8)}var Va=l(la,2);{var Ga=e=>{var o=qr();c(e,o)};p(()=>_(Va,e=>{a(M)&&e(Ga)}),"if",t,175,8)}i(q);var ca=l(q,2),z=n(ca),I=n(z),J=n(I),Ha=n(J,!0);i(J);var fa=l(J,2),Ka=n(fa,!0);i(fa),i(I);var R=l(I,2),Qa=n(R,!0);i(R),i(z);var V=l(z,2),ga=n(V);{var Wa=e=>{var o=Br();c(e,o)};p(()=>_(ga,e=>{a(r),d(()=>a(r).features.responsive)&&e(Wa)}),"if",t,200,9)}var ua=l(ga,2);{var Xa=e=>{var o=Or();c(e,o)};p(()=>_(ua,e=>{a(r),d(()=>a(r).features.darkMode)&&e(Xa)}),"if",t,203,9)}var pa=l(ua,2);{var Ya=e=>{var o=Sr();c(e,o)};p(()=>_(pa,e=>{a(r),d(()=>a(r).features.animations)&&e(Ya)}),"if",t,206,9)}var Za=l(pa,2);{var ar=e=>{var o=Ur();c(e,o)};p(()=>_(Za,e=>{a(r),d(()=>a(r).features.seoOptimized)&&e(ar)}),"if",t,209,9)}i(V);var G=l(V,2),H=n(G),K=l(H,2),Q=l(K,2),ma=l(Q,2);i(G);var W=l(G,2),X=n(W),rr=n(X);i(X);var _a=l(X,2),er=n(_a);i(_a),i(W);var ba=l(W,2),tr=n(ba);{var sr=e=>{var o=Lr();c(e,o)},or=e=>{var o=Pr(),Y=n(o);{var ir=k=>{var Z=xa("Activating...");c(k,Z)},dr=k=>{var Z=xa("Activate Template");c(k,Z)};p(()=>_(Y,k=>{a(D)?k(ir):k(dr,!1)}),"if",t,261,11)}i(o),y(()=>o.disabled=a(D)),xr("click",o,()=>Da(a(r).templateName)),c(e,o)};p(()=>_(tr,e=>{a(M)?e(sr):e(or,!1)}),"if",t,246,9)}i(ba),i(ca),i(N),y(()=>{aa(N,1,`bg-white border-2 rounded-lg overflow-hidden transition-all hover:shadow-lg ${a(M)?"border-blue-500 shadow-md":"border-gray-200"}`),aa(q,1,`h-48 bg-gradient-to-br ${a(r),d(()=>a(r).colors.primary)??""} flex items-center justify-center relative`),b(Ha,(a(r),d(()=>a(r).displayName))),b(Ka,(a(r),d(()=>a(r).description))),aa(R,1,`px-2 py-1 text-xs font-medium rounded bg-${a(P)??""}-100 text-${a(P)??""}-800`),b(Qa,(a(r),d(()=>a(r).category))),O(H,`background-color: ${a(r),d(()=>a(r).colors.primary)??""}`),A(H,"title",`Primary: ${a(r),d(()=>a(r).colors.primary)??""}`),O(K,`background-color: ${a(r),d(()=>a(r).colors.secondary)??""}`),A(K,"title",`Secondary: ${a(r),d(()=>a(r).colors.secondary)??""}`),O(Q,`background-color: ${a(r),d(()=>a(r).colors.accent)??""}`),A(Q,"title",`Accent: ${a(r),d(()=>a(r).colors.accent)??""}`),O(ma,`background-color: ${a(r),d(()=>a(r).colors.background)??""}`),A(ma,"title",`Background: ${a(r),d(()=>a(r).colors.background)??""}`),b(rr,`Version: ${a(r),d(()=>a(r).version)??""}`),b(er,`Author: ${a(r),d(()=>a(r).author)??""}`)}),c(Ia,N)}),"each",t,156,5),i(L);var da=l(L,2),na=l(n(da),2),va=l(n(na)),za=n(va,!0);i(va),ka(),i(na),ka(2),i(da),y(()=>b(za,a(T))),c(w,F)};p(()=>_(x,w=>{a(E),d(()=>B(a(E).length,0))?w(La):w(Pa,!1)},!0),"if",t,150,3)}c(s,v)};p(()=>_(Ba,s=>{a(S)?s(Oa):s(Sa,!1)}),"if",t,145,3)}i(sa),i(ta),i(U),c(Ta,U);var Ua=mr(Ma);return ja(),Ua}export{t as component};
